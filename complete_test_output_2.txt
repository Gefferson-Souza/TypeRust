   Compiling ox_codegen v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/crates/ox_codegen)
   Compiling ox_orchestrator v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/crates/ox_orchestrator)
   Compiling integration_tests v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests)
   Compiling ox_cli v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/crates/ox_cli)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1.51s
     Running unittests src/lib.rs (target/debug/deps/integration_tests-48cacc1c99420a89)

running 31 tests
test test_build::test_build_async_fn ... ok
test test_build::test_e2e_complex_scenario ... ok
test test_cli_check_pass ... ok
test test_nestjs::nestjs_tests::test_nestjs_controller_generation ... ok
test test_nestjs::nestjs_tests::test_cargo_toml_generation ... ok
test test_build::test_build_simple_fn ... ok
test test_build::test_build_dto ... ok
    Updating crates.io index
test test_compilation::tests::test_execute_simple_function ... ok
test test_smoke_error ... ok
test test_compilation::tests::test_execute_interface ... ok
test test_smoke_lint ... ok
    Blocking waiting for file lock on package cache
test test_smoke_valid ... ok
test test_snapshots::test_snapshot_class_simple ... ok
stored new snapshot /home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/src/snapshots/integration_tests__test_snapshots__snapshot_e2e_full_stack.snap.new
test test_snapshots::test_snapshot_e2e_full_stack ... FAILED
    Blocking waiting for file lock on package cache
test test_execute::executable_tests::test_compile_and_execute_simple_functions ... ok
test test_execute::executable_tests::test_compile_and_execute_class ... ok
test test_snapshots::test_snapshot_interface_simple ... ok
test test_execute::executable_tests::test_compile_and_execute_integration ... ok
test test_snapshots::test_snapshot_smoke_valid ... ok
test test_compilation::tests::test_execute_class_with_main ... ok
test test_stdlib_exec::stdlib_tests::test_stdlib_console ... ok
    Blocking waiting for file lock on package cache
test test_execute::executable_tests::test_compile_and_execute_multi_file_project ... ok
test test_stdlib_exec::stdlib_tests::test_stdlib_string_execution ... ok
test test_stdlib_exec::stdlib_tests::test_stdlib_math_execution ... ok
    Updating crates.io index
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Updating crates.io index
    Updating crates.io index
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
     Locking 184 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
      Adding rand v0.8.5 (available: v0.9.2)
      Adding reqwest v0.11.27 (available: v0.12.24)
      Adding tower v0.4.13 (available: v0.5.2)
      Adding tower-http v0.5.2 (available: v0.6.7)
    Blocking waiting for file lock on package cache
     Locking 184 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
      Adding rand v0.8.5 (available: v0.9.2)
      Adding reqwest v0.11.27 (available: v0.12.24)
      Adding tower v0.4.13 (available: v0.5.2)
      Adding tower-http v0.5.2 (available: v0.6.7)
    Blocking waiting for file lock on package cache
     Locking 184 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
      Adding rand v0.8.5 (available: v0.9.2)
      Adding reqwest v0.11.27 (available: v0.12.24)
      Adding tower v0.4.13 (available: v0.5.2)
      Adding tower-http v0.5.2 (available: v0.6.7)
    Blocking waiting for file lock on package cache
     Locking 184 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
      Adding rand v0.8.5 (available: v0.9.2)
      Adding reqwest v0.11.27 (available: v0.12.24)
      Adding tower v0.4.13 (available: v0.5.2)
      Adding tower-http v0.5.2 (available: v0.6.7)
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
   Compiling proc-macro2 v1.0.103
   Compiling quote v1.0.42
   Compiling unicode-ident v1.0.22
   Compiling libc v0.2.177
    Checking cfg-if v1.0.4
    Checking bytes v1.11.0
   Compiling proc-macro2 v1.0.103
   Compiling quote v1.0.42
   Compiling unicode-ident v1.0.22
   Compiling libc v0.2.177
   Compiling cfg-if v1.0.4
   Compiling bytes v1.11.0
   Compiling pin-project-lite v0.2.16
   Compiling proc-macro2 v1.0.103
   Compiling unicode-ident v1.0.22
   Compiling quote v1.0.42
   Compiling libc v0.2.177
    Checking cfg-if v1.0.4
    Checking pin-project-lite v0.2.16
    Checking bytes v1.11.0
    Checking smallvec v1.15.1
   Compiling proc-macro2 v1.0.103
    Checking pin-project-lite v0.2.16
    Checking smallvec v1.15.1
    Checking itoa v1.0.15
    Checking futures-core v0.3.31
   Compiling parking_lot_core v0.9.12
    Checking once_cell v1.21.3
    Checking itoa v1.0.15
   Compiling unicode-ident v1.0.22
   Compiling quote v1.0.42
   Compiling libc v0.2.177
    Checking cfg-if v1.0.4
    Checking pin-project-lite v0.2.16
    Checking bytes v1.11.0
    Checking smallvec v1.15.1
    Checking itoa v1.0.15
    Checking once_cell v1.21.3
    Checking futures-core v0.3.31
   Compiling parking_lot_core v0.9.12
   Compiling itoa v1.0.15
   Compiling smallvec v1.15.1
   Compiling futures-core v0.3.31
   Compiling stable_deref_trait v1.2.1
    Checking stable_deref_trait v1.2.1
    Checking once_cell v1.21.3
   Compiling parking_lot_core v0.9.12
   Compiling parking_lot_core v0.9.12
   Compiling once_cell v1.21.3
    Checking stable_deref_trait v1.2.1
    Checking futures-core v0.3.31
    Checking scopeguard v1.2.0
   Compiling scopeguard v1.2.0
    Checking scopeguard v1.2.0
    Checking log v0.4.28
   Compiling log v0.4.28
   Compiling find-msvc-tools v0.1.5
    Checking log v0.4.28
    Checking stable_deref_trait v1.2.1
   Compiling shlex v1.3.0
   Compiling shlex v1.3.0
   Compiling shlex v1.3.0
    Checking tracing-core v0.1.35
   Compiling find-msvc-tools v0.1.5
    Checking scopeguard v1.2.0
   Compiling find-msvc-tools v0.1.5
    Checking log v0.4.28
    Checking pin-utils v0.1.0
    Checking lock_api v0.4.14
   Compiling shlex v1.3.0
   Compiling find-msvc-tools v0.1.5
   Compiling lock_api v0.4.14
    Checking lock_api v0.4.14
   Compiling pkg-config v0.3.32
   Compiling vcpkg v0.2.15
   Compiling pkg-config v0.3.32
   Compiling pin-utils v0.1.0
   Compiling pkg-config v0.3.32
    Checking lock_api v0.4.14
   Compiling pkg-config v0.3.32
    Checking pin-utils v0.1.0
   Compiling vcpkg v0.2.15
   Compiling cc v1.2.47
   Compiling cc v1.2.47
   Compiling cc v1.2.47
   Compiling vcpkg v0.2.15
    Checking tower-service v0.3.3
    Checking pin-utils v0.1.0
    Checking tower-service v0.3.3
    Checking tracing-core v0.1.35
   Compiling serde_core v1.0.228
    Checking litemap v0.8.1
   Compiling serde_core v1.0.228
   Compiling serde_core v1.0.228
   Compiling httparse v1.10.1
    Checking tracing-core v0.1.35
   Compiling tracing-core v0.1.35
   Compiling vcpkg v0.2.15
    Checking futures-task v0.3.31
   Compiling cc v1.2.47
   Compiling tower-service v0.3.3
   Compiling serde_core v1.0.228
   Compiling litemap v0.8.1
   Compiling httparse v1.10.1
    Checking writeable v0.6.2
    Checking tower-service v0.3.3
    Checking writeable v0.6.2
    Checking litemap v0.8.1
   Compiling futures-task v0.3.31
    Checking litemap v0.8.1
   Compiling httparse v1.10.1
    Checking futures-task v0.3.31
    Checking futures-util v0.3.31
    Checking futures-task v0.3.31
    Checking writeable v0.6.2
   Compiling httparse v1.10.1
   Compiling writeable v0.6.2
   Compiling icu_normalizer_data v2.1.1
    Checking futures-util v0.3.31
    Checking tracing v0.1.41
   Compiling icu_normalizer_data v2.1.1
   Compiling futures-util v0.3.31
   Compiling icu_properties_data v2.1.1
   Compiling http v1.4.0
    Checking futures-util v0.3.31
   Compiling icu_normalizer_data v2.1.1
   Compiling icu_properties_data v2.1.1
   Compiling icu_properties_data v2.1.1
    Checking tracing v0.1.41
   Compiling icu_normalizer_data v2.1.1
    Checking http v1.4.0
    Checking tracing v0.1.41
   Compiling icu_properties_data v2.1.1
    Checking http v1.4.0
    Checking futures-channel v0.3.31
    Checking futures-channel v0.3.31
    Checking http v1.4.0
    Checking fnv v1.0.7
    Checking futures-channel v0.3.31
   Compiling openssl v0.10.75
   Compiling serde v1.0.228
   Compiling serde v1.0.228
    Checking foreign-types-shared v0.1.1
   Compiling tracing v0.1.41
   Compiling openssl v0.10.75
    Checking httpdate v1.0.3
   Compiling openssl v0.10.75
    Checking foreign-types-shared v0.1.1
    Checking foreign-types-shared v0.1.1
   Compiling serde v1.0.228
    Checking fnv v1.0.7
    Checking httpdate v1.0.3
   Compiling futures-channel v0.3.31
    Checking bitflags v2.10.0
    Checking bitflags v2.10.0
    Checking bitflags v2.10.0
   Compiling serde v1.0.228
    Checking http v0.2.12
    Checking foreign-types v0.3.2
    Checking foreign-types v0.3.2
    Checking http v0.2.12
    Checking hashbrown v0.16.1
    Checking tower-layer v0.3.3
    Checking httpdate v1.0.3
    Checking fnv v1.0.7
    Checking futures-sink v0.3.31
    Checking foreign-types v0.3.2
    Checking tower-layer v0.3.3
    Checking equivalent v1.0.2
    Checking http v0.2.12
   Compiling bitflags v2.10.0
   Compiling foreign-types-shared v0.1.1
    Checking equivalent v1.0.2
   Compiling zerocopy v0.8.30
    Checking percent-encoding v2.3.2
   Compiling openssl v0.10.75
    Checking hashbrown v0.16.1
   Compiling native-tls v0.2.14
   Compiling fnv v1.0.7
   Compiling syn v2.0.111
   Compiling native-tls v0.2.14
   Compiling syn v2.0.111
    Checking futures-sink v0.3.31
    Checking equivalent v1.0.2
   Compiling httpdate v1.0.3
   Compiling zerocopy v0.8.30
   Compiling http v0.2.12
    Checking hashbrown v0.16.1
   Compiling foreign-types v0.3.2
    Checking percent-encoding v2.3.2
   Compiling native-tls v0.2.14
    Checking futures-sink v0.3.31
    Checking tower-layer v0.3.3
    Checking percent-encoding v2.3.2
   Compiling serde_json v1.0.145
   Compiling zerocopy v0.8.30
   Compiling syn v2.0.111
   Compiling syn v2.0.111
   Compiling native-tls v0.2.14
    Checking form_urlencoded v1.2.2
   Compiling rustversion v1.0.22
   Compiling hashbrown v0.16.1
    Checking form_urlencoded v1.2.2
    Checking ryu v1.0.20
    Checking form_urlencoded v1.2.2
   Compiling equivalent v1.0.2
    Checking slab v0.4.11
   Compiling tower-layer v0.3.3
    Checking slab v0.4.11
   Compiling serde_json v1.0.145
   Compiling zerocopy v0.8.30
   Compiling serde_json v1.0.145
    Checking ryu v1.0.20
   Compiling percent-encoding v2.3.2
    Checking openssl-probe v0.1.6
    Checking ryu v1.0.20
    Checking openssl-probe v0.1.6
    Checking openssl-probe v0.1.6
   Compiling futures-sink v0.3.31
    Checking slab v0.4.11
    Checking http-body v1.0.1
    Checking http-body v1.0.1
    Checking socket2 v0.6.1
    Checking signal-hook-registry v1.4.7
   Compiling http-body v1.0.1
    Checking mio v1.1.0
    Checking try-lock v0.2.5
    Checking try-lock v0.2.5
   Compiling rustversion v1.0.22
    Checking http-body-util v0.1.3
   Compiling rustversion v1.0.22
   Compiling form_urlencoded v1.2.2
    Checking http-body v1.0.1
    Checking try-lock v0.2.5
   Compiling try-lock v0.2.5
    Checking want v0.3.1
    Checking http-body-util v0.1.3
    Checking indexmap v2.12.1
    Checking want v0.3.1
    Checking http-body-util v0.1.3
    Checking signal-hook-registry v1.4.7
    Checking utf8_iter v1.0.4
    Checking socket2 v0.6.1
   Compiling serde_json v1.0.145
    Checking want v0.3.1
    Checking http-body v0.4.6
    Checking socket2 v0.5.10
    Checking mio v1.1.0
    Checking getrandom v0.2.16
   Compiling mio v1.1.0
    Checking parking_lot v0.12.5
    Checking socket2 v0.6.1
    Checking signal-hook-registry v1.4.7
    Checking mio v1.1.0
    Checking parking_lot v0.12.5
    Checking http-body v0.4.6
   Compiling signal-hook-registry v1.4.7
   Compiling openssl-sys v0.9.111
    Checking indexmap v2.12.1
    Checking getrandom v0.2.16
    Checking http-body v0.4.6
   Compiling socket2 v0.6.1
    Checking parking_lot v0.12.5
    Checking getrandom v0.2.16
    Checking memchr v2.7.6
    Checking indexmap v2.12.1
    Checking socket2 v0.5.10
    Checking atomic-waker v1.1.2
   Compiling ryu v1.0.20
    Checking sync_wrapper v1.0.2
    Checking socket2 v0.5.10
    Checking memchr v2.7.6
    Checking mime v0.3.17
   Compiling parking_lot v0.12.5
    Checking mime v0.3.17
    Checking utf8_iter v1.0.4
    Checking rand_core v0.6.4
    Checking base64 v0.21.7
    Checking atomic-waker v1.1.2
    Checking memchr v2.7.6
    Checking sync_wrapper v1.0.2
    Checking atomic-waker v1.1.2
    Checking encoding_rs v0.8.35
    Checking mime v0.3.17
    Checking sync_wrapper v1.0.2
   Compiling openssl-sys v0.9.111
    Checking utf8_iter v1.0.4
    Checking rand_core v0.6.4
    Checking rand_core v0.6.4
    Checking base64 v0.21.7
   Compiling indexmap v2.12.1
   Compiling rustversion v1.0.22
   Compiling slab v0.4.11
    Checking base64 v0.21.7
   Compiling openssl-sys v0.9.111
    Checking sync_wrapper v0.1.2
    Checking ipnet v2.11.0
    Checking encoding_rs v0.8.35
    Checking ipnet v2.11.0
    Checking matchit v0.7.3
   Compiling openssl-sys v0.9.111
    Checking sync_wrapper v0.1.2
    Checking matchit v0.7.3
    Checking encoding_rs v0.8.35
    Checking sync_wrapper v0.1.2
    Checking rustls-pemfile v1.0.4
    Checking ipnet v2.11.0
    Checking tower-http v0.5.2
    Checking matchit v0.7.3
    Checking rustls-pemfile v1.0.4
   Compiling openssl-probe v0.1.6
    Checking tower-http v0.5.2
   Compiling http-body v0.4.6
    Checking tower v0.4.13
    Checking rustls-pemfile v1.0.4
    Checking tower-http v0.5.2
    Checking tower v0.4.13
   Compiling getrandom v0.2.16
    Checking tower v0.4.13
   Compiling socket2 v0.5.10
   Compiling want v0.3.1
   Compiling http-body-util v0.1.3
   Compiling utf8_iter v1.0.4
   Compiling sync_wrapper v1.0.2
   Compiling mime v0.3.17
   Compiling memchr v2.7.6
   Compiling atomic-waker v1.1.2
   Compiling rand_core v0.6.4
    Checking serde_path_to_error v0.1.20
   Compiling base64 v0.21.7
   Compiling encoding_rs v0.8.35
   Compiling sync_wrapper v0.1.2
   Compiling matchit v0.7.3
   Compiling ipnet v2.11.0
   Compiling tower-http v0.5.2
   Compiling tower v0.4.13
    Checking serde_path_to_error v0.1.20
    Checking serde_path_to_error v0.1.20
   Compiling rustls-pemfile v1.0.4
    Checking ppv-lite86 v0.2.21
   Compiling serde_path_to_error v0.1.20
   Compiling ppv-lite86 v0.2.21
    Checking ppv-lite86 v0.2.21
    Checking ppv-lite86 v0.2.21
    Checking rand_chacha v0.3.1
   Compiling rand_chacha v0.3.1
    Checking rand_chacha v0.3.1
   Compiling rand v0.8.5
    Checking rand v0.8.5
    Checking rand_chacha v0.3.1
    Checking rand v0.8.5
    Checking rand v0.8.5
   Compiling synstructure v0.13.2
   Compiling synstructure v0.13.2
   Compiling zerofrom-derive v0.1.6
   Compiling yoke-derive v0.8.1
   Compiling zerovec-derive v0.11.2
   Compiling tokio-macros v2.6.0
   Compiling displaydoc v0.2.5
   Compiling openssl-macros v0.1.1
   Compiling serde_derive v1.0.228
   Compiling async-trait v0.1.89
   Compiling synstructure v0.13.2
   Compiling zerovec-derive v0.11.2
   Compiling tokio-macros v2.6.0
   Compiling displaydoc v0.2.5
   Compiling serde_derive v1.0.228
   Compiling openssl-macros v0.1.1
   Compiling async-trait v0.1.89
   Compiling zerofrom-derive v0.1.6
   Compiling yoke-derive v0.8.1
   Compiling synstructure v0.13.2
   Compiling zerofrom-derive v0.1.6
   Compiling yoke-derive v0.8.1
   Compiling zerovec-derive v0.11.2
   Compiling tokio-macros v2.6.0
   Compiling displaydoc v0.2.5
   Compiling openssl-macros v0.1.1
   Compiling serde_derive v1.0.228
   Compiling async-trait v0.1.89
    Checking tokio v1.48.0
   Compiling zerofrom-derive v0.1.6
   Compiling yoke-derive v0.8.1
   Compiling zerovec-derive v0.11.2
   Compiling displaydoc v0.2.5
   Compiling tokio-macros v2.6.0
   Compiling serde_derive v1.0.228
   Compiling openssl-macros v0.1.1
   Compiling async-trait v0.1.89
   Compiling tokio v1.48.0
    Checking zerofrom v0.1.6
    Checking axum-core v0.4.5
    Checking yoke v0.8.1
   Compiling axum-core v0.4.5
    Checking zerovec v0.11.5
    Checking zerotrie v0.2.3
    Checking tokio v1.48.0
   Compiling zerofrom v0.1.6
    Checking axum-core v0.4.5
   Compiling yoke v0.8.1
    Checking tokio v1.48.0
   Compiling zerovec v0.11.5
   Compiling zerotrie v0.2.3
    Checking tinystr v0.8.2
    Checking potential_utf v0.1.4
    Checking zerofrom v0.1.6
    Checking axum-core v0.4.5
    Checking zerofrom v0.1.6
    Checking yoke v0.8.1
    Checking icu_collections v2.1.1
    Checking icu_locale_core v2.1.1
    Checking yoke v0.8.1
    Checking zerovec v0.11.5
    Checking zerotrie v0.2.3
   Compiling tinystr v0.8.2
   Compiling potential_utf v0.1.4
    Checking zerovec v0.11.5
    Checking zerotrie v0.2.3
   Compiling icu_collections v2.1.1
   Compiling icu_locale_core v2.1.1
    Checking tinystr v0.8.2
    Checking potential_utf v0.1.4
    Checking icu_collections v2.1.1
    Checking icu_provider v2.1.1
    Checking icu_locale_core v2.1.1
    Checking tinystr v0.8.2
    Checking potential_utf v0.1.4
    Checking icu_properties v2.1.1
    Checking icu_normalizer v2.1.1
    Checking icu_collections v2.1.1
    Checking icu_locale_core v2.1.1
   Compiling icu_provider v2.1.1
    Checking icu_provider v2.1.1
   Compiling icu_properties v2.1.1
   Compiling icu_normalizer v2.1.1
    Checking serde_urlencoded v0.7.1
    Checking icu_properties v2.1.1
    Checking icu_normalizer v2.1.1
    Checking icu_provider v2.1.1
   Compiling serde_urlencoded v0.7.1
    Checking icu_normalizer v2.1.1
    Checking icu_properties v2.1.1
    Checking serde_urlencoded v0.7.1
    Checking idna_adapter v1.2.1
    Checking idna v1.1.0
    Checking serde_urlencoded v0.7.1
    Checking url v2.5.7
    Checking idna_adapter v1.2.1
    Checking idna_adapter v1.2.1
    Checking idna v1.1.0
    Checking idna v1.1.0
   Compiling idna_adapter v1.2.1
   Compiling idna v1.1.0
    Checking url v2.5.7
    Checking url v2.5.7
   Compiling url v2.5.7
    Checking tokio-util v0.7.17
    Checking tokio-native-tls v0.3.1
    Checking hyper v1.8.1
    Checking tower v0.5.2
    Checking tokio-util v0.7.17
    Checking tokio-native-tls v0.3.1
    Checking hyper v1.8.1
    Checking tower v0.5.2
   Compiling tokio-util v0.7.17
   Compiling tokio-native-tls v0.3.1
   Compiling hyper v1.8.1
   Compiling tower v0.5.2
    Checking h2 v0.3.27
    Checking hyper-util v0.1.18
    Checking h2 v0.3.27
    Checking hyper-util v0.1.18
    Checking axum v0.7.9
    Checking tokio-util v0.7.17
    Checking hyper v1.8.1
    Checking tokio-native-tls v0.3.1
    Checking tower v0.5.2
    Checking axum v0.7.9
   Compiling h2 v0.3.27
   Compiling hyper-util v0.1.18
    Checking h2 v0.3.27
   Compiling axum v0.7.9
    Checking hyper-util v0.1.18
    Checking axum v0.7.9
    Checking hyper v0.14.32
    Checking hyper v0.14.32
    Checking hyper v0.14.32
   Compiling hyper v0.14.32
test test_types::type_tests::test_compile_and_execute_advanced_types ... FAILED
test test_generics::generic_tests::test_compile_and_execute_generics ... ok
    Checking hyper-tls v0.5.0
    Checking hyper-tls v0.5.0
    Checking reqwest v0.11.27
    Checking reqwest v0.11.27
    Checking typerust_app v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/complex_node/dist)
    Checking typerust_app v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/complex_single/dist)
    Checking hyper-tls v0.5.0
warning: unreachable call
 --> src/input.rs:4:163
  |
4 | ...om")) . await ? ; return Ok (todo ! ("unsupported literal")) ; }
  |                             ^^  ------------------------------ any code following this expression is unreachable
  |                             |
  |                             unreachable call
  |
  = note: `#[warn(unreachable_code)]` on by default

warning: unused variable: `m`
 --> src/input.rs:4:25
  |
4 | async fn report_metric (m : Metric) -> Result < bool , crate :: AppError > { let res = reqwest :: get (String :: from ("https://metrics.c...
  |                         ^ help: if this is intentional, prefix it with an underscore: `_m`
  |
  = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `res`
 --> src/input.rs:4:82
  |
4 | ...ool , crate :: AppError > { let res = reqwest :: get (String :: from ("https://metrics.com")) . await ? ; return Ok (todo ! ("unsuppor...
  |                                    ^^^ help: if this is intentional, prefix it with an underscore: `_res`

error[E0308]: mismatched types
 --> src/input.rs:3:125
  |
3 | ... = data . iter () . cloned () . filter (| n | n > 0f64) . collect :: < Vec < _ >> () . iter () . cloned () . map (| n | n * 1.5f64) . ...
  |                                                      ^^^^ expected `&f64`, found `f64`
  |
help: consider dereferencing the borrow
  |
3 | fn calculate_metrics (data : Vec < f64 >) -> Vec < Metric > { let filtered = data . iter () . cloned () . filter (| n | *n > 0f64) . collect :: < Vec < _ >> () . iter () . cloned () . map (| n | n * 1.5f64) . collect :: < Vec < _ >> () ; let max_val = filtered . iter () . fold (100f64 , | a , & b | a . max (b)) ; let label = String :: from ("Metric_Run_") + & (rand :: random :: < f64 > () * 100f64) . round () . to_string () . to_uppercase () ; if label . contains (& String :: from ("RUN")) { println ! ("{}" , String :: from ("Processing run...")) ; } return filtered . iter () . cloned () . enumerate () . map (| (idx , val) | (| val , idx | todo ! ()) (val , idx as f64)) . collect :: < Vec < _ >> () ; }
  |                                                                                                                         +

    Checking reqwest v0.11.27
For more information about this error, try `rustc --explain E0308`.
warning: `typerust_app` (lib) generated 3 warnings
error: could not compile `typerust_app` (lib) due to 1 previous error; 3 warnings emitted
warning: unused import: `axum::Router`
 --> src/main.rs:1:5
  |
1 | use axum::Router;
  |     ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

test test_regression::test_scenario_1_complex_single ... FAILED
warning: `typerust_app` (bin "server") generated 1 warning (run `cargo fix --bin "server"` to apply 1 suggestion)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 46.49s
test test_regression::test_scenario_2_complex_node ... ok
    Checking typerust_app v0.1.0 (/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/complex_nestjs/dist)
warning: unreachable block in `if` or `while` expression
 --> src/services/payment_service.rs:5:447
  |
5 | ...etAccount) ; if todo ! () { return Ok (String :: from ("BLOCKED")) ; } return Ok (String :: from ("PROCESSED_") + & (dto . amount) . r...
  |                    --------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ unreachable block in `if` or `while` expression
  |                    |
  |                    any code following this expression is unreachable
  |
  = note: `#[warn(unreachable_code)]` on by default

warning: unused variable: `is_safe`
 --> src/services/payment_service.rs:5:360
  |
5 | ..., crate :: AppError > { let is_safe = self . fraud_service . clone () . check (dto . targetAccount) ; if todo ! () { return Ok (String...
  |                                ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_is_safe`
  |
  = note: `#[warn(unused_variables)]` on by default

warning: structure field `targetAccount` should have a snake case name
 --> src/dtos/payment_dto.rs:5:9
  |
5 |     pub targetAccount: String,
  |         ^^^^^^^^^^^^^ help: convert the identifier to snake case: `target_account`
  |
  = note: `#[warn(non_snake_case)]` on by default

warning: `typerust_app` (lib) generated 3 warnings
warning: unused import: `axum::Router`
 --> src/main.rs:1:5
  |
1 | use axum::Router;
  |     ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: `typerust_app` (bin "server") generated 1 warning (run `cargo fix --bin "server"` to apply 1 suggestion)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 46.76s
test test_regression::test_scenario_3_complex_nestjs ... ok
   Compiling hyper-tls v0.5.0
   Compiling reqwest v0.11.27
   Compiling typerust_app v0.1.0 (/tmp/.tmpFUFz9k)
warning: unused import: `axum::Router`
 --> src/main.rs:1:5
  |
1 | use axum::Router;
  |     ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: `typerust_app` (bin "server") generated 1 warning (run `cargo fix --bin "server"` to apply 1 suggestion)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 50.03s
test test_nestjs::nestjs_tests::test_nestjs_project_compilation ... ok
test verify_equivalence has been running for over 60 seconds
test verify_equivalence ... FAILED

failures:

---- test_snapshots::test_snapshot_e2e_full_stack stdout ----
Method: fetch_user, is_handler: false, decorators: 0
Method: save_user, is_handler: false, decorators: 0
Method: get_base_url, is_handler: false, decorators: 0
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot file: tests/src/snapshots/integration_tests__test_snapshots__snapshot_e2e_full_stack.snap
Snapshot: snapshot_e2e_full_stack
Source: tests/src/test_snapshots.rs:24
────────────────────────────────────────────────────────────────────────────────
Expression: result
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    2     2 │ # [derive (Default , Debug , Clone , PartialEq , serde :: Serialize , serde :: Deserialize)] pub struct User { pub id : f64 , pub name : String , pub email : String , pub isActive : bool }
    3     3 │ # [derive (Default , Debug , Clone , PartialEq , serde :: Serialize , serde :: Deserialize)] pub struct ApiResponse { pub success : bool , pub data : String , pub timestamp : f64 }
    4     4 │ # [derive (Default , Debug , Clone , PartialEq , serde :: Serialize , serde :: Deserialize)] struct UserService { pub baseUrl : String }
    5     5 │ impl UserService { pub fn new (baseUrl : String) -> Self { Self { baseUrl : base_url } } pub fn new_di () -> Self { Self { baseUrl : Default :: default () } } pub async fn fetch_user (& self , id : f64) -> Result < User , crate :: AppError > { return Ok (get_from_database (id) . await ?) ; } pub async fn save_user (& self , user : User) -> Result < ApiResponse , crate :: AppError > { return Ok (post_to_database (user) . await ?) ; } pub fn get_base_url (& self) -> String { return self . base_url . clone () ; } }
    6       │-async fn get_from_database (id : f64) -> Result < User , crate :: AppError > { return Ok (todo ! ()) ; }
    7       │-async fn post_to_database (user : User) -> Result < ApiResponse , crate :: AppError > { return Ok (todo ! ()) ; }
          6 │+async fn get_from_database (id : f64) -> Result < User , crate :: AppError > { return Ok (serde_json :: json ! ({ "id" : id , "name" : String :: from ("Test User") , "email" : String :: from ("test@example.com") , "isActive" : todo ! ("unsupported literal") })) ; }
          7 │+async fn post_to_database (user : User) -> Result < ApiResponse , crate :: AppError > { return Ok (serde_json :: json ! ({ "success" : todo ! ("unsupported literal") , "data" : user . name , "timestamp" : 1234567890f64 })) ; }
    8     8 │ fn calculate_total (a : f64 , b : f64 , c : f64) -> f64 { return a + & b + & c ; }
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'test_snapshots::test_snapshot_e2e_full_stack' panicked at /home/gefferson-souza/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/insta-1.44.1/src/runtime.rs:689:13:
snapshot assertion for 'snapshot_e2e_full_stack' failed in line 24
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_types::type_tests::test_compile_and_execute_advanced_types stdout ----
Compilation failed:
Stderr:
    Blocking waiting for file lock on package cache
    Updating crates.io index
    Blocking waiting for file lock on package cache
     Locking 71 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
   Compiling proc-macro2 v1.0.103
   Compiling unicode-ident v1.0.22
   Compiling quote v1.0.42
   Compiling libc v0.2.177
   Compiling itoa v1.0.15
   Compiling bytes v1.11.0
   Compiling pin-project-lite v0.2.16
   Compiling futures-core v0.3.31
   Compiling parking_lot_core v0.9.12
   Compiling scopeguard v1.2.0
   Compiling cfg-if v1.0.4
   Compiling serde_core v1.0.228
   Compiling smallvec v1.15.1
   Compiling pin-utils v0.1.0
   Compiling once_cell v1.21.3
   Compiling lock_api v0.4.14
   Compiling httparse v1.10.1
   Compiling log v0.4.28
   Compiling serde v1.0.228
   Compiling futures-task v0.3.31
   Compiling tracing-core v0.1.35
   Compiling tower-service v0.3.3
   Compiling rustversion v1.0.22
   Compiling futures-channel v0.3.31
   Compiling tower-layer v0.3.3
   Compiling httpdate v1.0.3
   Compiling futures-util v0.3.31
   Compiling serde_json v1.0.145
   Compiling atomic-waker v1.1.2
   Compiling http v1.4.0
   Compiling sync_wrapper v1.0.2
   Compiling percent-encoding v2.3.2
   Compiling ryu v1.0.20
   Compiling mime v0.3.17
   Compiling tracing v0.1.41
   Compiling form_urlencoded v1.2.2
   Compiling memchr v2.7.6
   Compiling matchit v0.7.3
   Compiling syn v2.0.111
   Compiling socket2 v0.6.1
   Compiling signal-hook-registry v1.4.7
   Compiling mio v1.1.0
   Compiling http-body v1.0.1
   Compiling parking_lot v0.12.5
   Compiling http-body-util v0.1.3
   Compiling serde_path_to_error v0.1.20
   Compiling tokio-macros v2.6.0
   Compiling serde_derive v1.0.228
   Compiling async-trait v0.1.89
   Compiling tokio v1.48.0
   Compiling axum-core v0.4.5
   Compiling serde_urlencoded v0.7.1
   Compiling hyper v1.8.1
   Compiling tower v0.5.2
   Compiling hyper-util v0.1.18
   Compiling axum v0.7.9
   Compiling test_types v0.1.0 (/tmp/.tmpvgx8Ku)
error[E0425]: cannot find value `undefined` in this scope
  --> src/main.rs:12:120
   |
12 |     return serde_json :: json ! ({ "id" : id , "values" : values , "optional" : String :: from ("present") , "maybe" : undefined });
   |                                                                                                                        ^^^^^^^^^ not found in this scope

error[E0308]: mismatched types
  --> src/main.rs:12:12
   |
11 | pub fn create_container(id: ID, values: NumberList) -> Container {
   |                                                        --------- expected `Container` because of return type
12 |     return serde_json :: json ! ({ "id" : id , "values" : values , "optional" : String :: from ("present") , "maybe" : undefined });
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Container`, found `Value`
   |
   = note: this error originates in the macro `$crate::json_internal` which comes from the expansion of the macro `serde_json::json` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused variable: `list`
  --> src/main.rs:39:21
   |
39 | pub fn process_list(list: Vec<f64>) -> f64 {
   |                     ^^^^ help: if this is intentional, prefix it with an underscore: `_list`
   |
   = note: `#[warn(unused_variables)]` on by default

Some errors have detailed explanations: E0308, E0425.
For more information about an error, try `rustc --explain E0308`.
warning: `test_types` (bin "test_types") generated 1 warning
error: could not compile `test_types` (bin "test_types") due to 2 previous errors; 1 warning emitted

Stdout:

Generated Code:
pub type ID = String;
pub type NumberList = Vec<f64>;
#[derive(Default, Debug, Clone, PartialEq)]
pub struct Container {
    pub id: ID,
    pub values: Vec<f64>,
    pub optional: Option<String>,
    pub maybe: Option<f64>,
}
pub fn create_container(id: ID, values: NumberList) -> Container {
    return serde_json :: json ! ({ "id" : id , "values" : values , "optional" : String :: from ("present") , "maybe" : undefined });
}
#[derive(Default, Debug, Clone, PartialEq)]
pub struct ContainerClass {
    pub id: std::sync::Arc<ID>,
    pub values: Vec<f64>,
    pub optional: Option<String>,
    pub maybe: Option<f64>,
}
impl ContainerClass {
    pub fn new(id: std::sync::Arc<ID>, values: Vec<f64>) -> Self {
        Self {
            id: id,
            values: values,
            optional: Some(String::from("present")),
            maybe: None,
        }
    }
    pub fn new_di(id: std::sync::Arc<ID>) -> Self {
        Self {
            id: id,
            values: Default::default(),
            optional: Default::default(),
            maybe: Default::default(),
        }
    }
}
pub fn process_list(list: Vec<f64>) -> f64 {
    return 42f64;
}


thread 'test_types::type_tests::test_compile_and_execute_advanced_types' panicked at tests/src/test_types.rs:137:9:
Compilation failed

---- test_regression::test_scenario_1_complex_single stdout ----
Building complex_single...
Verifying compilation for complex_single...

thread 'test_regression::test_scenario_1_complex_single' panicked at tests/src/test_regression.rs:27:5:
Cargo check failed for complex_single

---- verify_equivalence stdout ----
CWD: Ok("/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests")
Running TypeScript fixture: "/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/equivalence/recursion.ts"
TypeScript Output:
{"result":55}
Compiling to Rust in: "/tmp/.tmpI4FqLA/output"
Running Rust generated code...
Rust Output:
{"result":55.0}
CWD: Ok("/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests")
Running TypeScript fixture: "/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/equivalence/data_processing.ts"
TypeScript Output:
[{"role":"User","name":"Alice","status":"Active","id":"ID_123"},{"role":"Admin","name":"Charlie","status":"Active","id":"ID_123"}]
Compiling to Rust in: "/tmp/.tmpoRxt9S/output"
Running Rust generated code...
Rust Output:
[{"id":"ID_123","name":"Alice","role":"User","status":"Active"},{"id":"ID_123","name":"Charlie","role":"Admin","status":"Active"}]
CWD: Ok("/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests")
Running TypeScript fixture: "/home/gefferson-souza/Desktop/personal-projects/TypeRust/tests/fixtures/equivalence/class_state.ts"
TypeScript Output:
Final: 35
Compiling to Rust in: "/tmp/.tmpFebHoN/output"
Method: add, is_handler: false, decorators: 0
Method: report, is_handler: false, decorators: 0
Running Rust generated code...

thread 'verify_equivalence' panicked at tests/src/infrastructure/equivalence.rs:69:9:
Rust execution failed:
error[E0384]: cannot assign twice to immutable variable `total`
  --> src/lib.rs:27:5
   |
25 |     let total = 10f64;
   |         ----- first assignment to `total`
26 |     let c = Counter::new(total);
27 |     total = c.add(5f64);
   |     ^^^^^^^^^^^^^^^^^^^ cannot assign twice to immutable variable
   |
help: consider making this binding mutable
   |
25 |     let mut total = 10f64;
   |         +++

error[E0384]: cannot assign twice to immutable variable `total`
  --> src/lib.rs:28:5
   |
25 |     let total = 10f64;
   |         ----- first assignment to `total`
...
28 |     total = total + 20f64;
   |     ^^^^^^^^^^^^^^^^^^^^^ cannot assign twice to immutable variable
   |
help: consider making this binding mutable
   |
25 |     let mut total = 10f64;
   |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `typerust_app` (lib) due to 2 previous errors



failures:
    test_regression::test_scenario_1_complex_single
    test_snapshots::test_snapshot_e2e_full_stack
    test_types::type_tests::test_compile_and_execute_advanced_types
    verify_equivalence

test result: FAILED. 27 passed; 4 failed; 0 ignored; 0 measured; 0 filtered out; finished in 78.89s

error: test failed, to rerun pass `-p integration_tests --lib`
